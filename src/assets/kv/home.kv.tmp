<HomeScreen>:
    name: 'home'
    
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        # Header section
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: None
            height: 50
            spacing: 10
            
            TextInput:
                id: search_input
                hint_text: 'Search by make or model...'
                multiline: False
                size_hint_x: 0.65
                on_text: root.on_search_text(self, self.text)
            
            Button:
                text: 'Search'
                size_hint_x: 0.15
                on_press: root.search_cars()
                
            Button:
                text: 'Add Car'
                size_hint_x: 0.2
                on_press: root.go_to_add_car()
                background_color: (0.2, 0.8, 0.2, 1)  # Green button
        
        # Status label
        Label:
            id: status_label
            text: 'Loading cars...'
            size_hint_y: None
            height: 30
            color: (0.7, 0.7, 0.7, 1)
        
        # Cars list
        ScrollView:
            BoxLayout:
                id: cars_container
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 5

# Custom car list item layout
<CarListItem>:
    orientation: 'horizontal'
    size_hint_y: None
    height: 100
    spacing: 10
    padding: 15
    canvas.before:
        Color:
            rgba: (0.95, 0.95, 0.95, 1)  # Light gray background
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: [10]
        Color:
            rgba: (0.8, 0.8, 0.8, 1)  # Border color
        Line:
            rounded_rectangle: self.x, self.y, self.width, self.height, 10
            width: 1
    
    # Car image placeholder
    Widget:
        size_hint_x: 0.2
        canvas.before:
            Color:
                rgba: (0.9, 0.9, 0.9, 1)
            RoundedRectangle:
                pos: self.pos
                size: self.size
                radius: [5]
        Label:
            text: 'IMG'
            color: (0.6, 0.6, 0.6, 1)
            center: self.parent.center
    
    # Car details
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: 0.6
        
        Label:
            id: title_label
            text: f"{root.car.year} {root.car.make} {root.car.model}"
            font_size: '18sp'
            bold: True
            halign: 'left'
            valign: 'center'
            text_size: self.size
            color: (0.2, 0.2, 0.2, 1)
            size_hint_y: 0.6
        
        Label:
            id: price_label
            text: f"${root.car.price:,.2f}"
            font_size: '16sp'
            bold: True
            halign: 'left'
            valign: 'center'
            text_size: self.size
            color: (0.2, 0.7, 0.2, 1)  # Green price
            size_hint_y: 0.4
    
    # Action buttons
    BoxLayout:
        orientation: 'vertical'
        size_hint_x: 0.2
        spacing: 5
        
        Button:
            text: 'View Details'
            size_hint_y: 0.6
            font_size: '12sp'
            on_press: root.view_details()
            background_color: (0.3, 0.6, 0.9, 1)  # Blue button
        
        Label:
            text: f"Posted {root.car.created_at.strftime('%m/%d')}"
            font_size: '10sp'
            color: (0.6, 0.6, 0.6, 1)
            size_hint_y: 0.4